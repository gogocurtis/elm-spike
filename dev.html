<!DOCTYPE Html>
<html>

<head>
    <title> Elm-Spike </title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />

    <link href="/assets/material.orange-light_blue.min.css" rel="stylesheet" />

    <style type="text/css">
        @import url(http://fonts.googleapis.com/css?family=Source+Sans+Pro);
        html,
        head,
        body {
            margin: 0;
            height: 100%;
        }
    </style>
</head>

<body>
</body>
<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyCpzjTw3OkgA8-eYit7kUUte8dNiITYXLA",
        authDomain: "elm-spike.firebaseapp.com",
        databaseURL: "https://elm-spike.firebaseio.com",
        projectId: "elm-spike",
        storageBucket: "elm-spike.appspot.com",
        messagingSenderId: "799675640107"
    };
    firebase.initializeApp(config);

    let signInWithRedirect = function() {
        var provider = new firebase.auth.GithubAuthProvider();
        provider.addScope('user');
        firebase.auth().signInWithRedirect(provider);
    }
    let getRedirectResult = function() {
        firebase.auth().getRedirectResult().then(function(result) {
            console.log("getRedirectResult then")
            console.log(result)

            if (result.credential) {
                // This gives you a GitHub Access Token. You can use it to access the GitHub API.
                var token = result.credential.accessToken;
                // ...
            }
            // The signed-in user info.
            var user = result.user;
        }).catch(function(error) {
            console.log("getRedirectResult error")
            console.log(error)
        })
    }
</script>
<script src="/_compile/src/Main.elm"></script>

<script>
    Elm.Main.fullscreen();
</script>

</html>
